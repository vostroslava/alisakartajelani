:root{--bg-dark: #1a1a2e;--bg-medium: #16213e;--poster-bg: #f5f0e8;--card-bg: #fffef9;--card-border: rgba(200, 190, 170, .4);--card-shadow: rgba(60, 50, 40, .08);--accent-travel: #e8a87c;--accent-dev: #f5c842;--accent-dev-dim: rgba(245, 200, 66, .3);--text-primary: #2d2d2d;--text-secondary: #6b6b6b;--poster-padding: 4%;--cell-gap: 1.5%;--border-radius: 8px;--border-radius-sm: 4px;--font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;--transition-fast: .15s ease-out;--transition-medium: .3s cubic-bezier(.4, 0, .2, 1);--transition-spring: .5s cubic-bezier(.34, 1.56, .64, 1);--warmth: 0}[data-theme=warm]{--warmth: .15;--poster-bg: #f8f2e6;--accent-travel: #f0b088}[data-theme=cool]{--warmth: -.1;--poster-bg: #f0f4f8;--accent-travel: #a8c8e8}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html,body{width:100%;height:100%;overflow:hidden;font-family:var(--font-family);background:var(--bg-dark);color:var(--text-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#app{width:100%;height:100%;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}#bg-canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none}#bg-images{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none;display:flex}.bg-zone{flex:1;position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center}#bg-travel,#bg-dev{background:transparent}.bg-zone canvas,.scene-canvas{width:100%!important;height:100%!important;display:block}.bg-zone-img{max-width:90%;max-height:85%;object-fit:contain;opacity:.85;filter:drop-shadow(0 10px 40px rgba(0,0,0,.4));animation:float 6s ease-in-out infinite;transition:transform .3s ease-out,opacity .3s ease-out}#bg-travel .bg-zone-img{animation:float-up 4s ease-in-out infinite;transform-origin:center bottom}#bg-dev .bg-zone-img{animation:glow-pulse 3s ease-in-out infinite}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes float-up{0%{transform:translateY(0) rotate(-2deg)}50%{transform:translateY(-20px) rotate(2deg)}to{transform:translateY(0) rotate(-2deg)}}@keyframes glow-pulse{0%,to{filter:drop-shadow(0 10px 40px rgba(0,0,0,.4)) brightness(1)}50%{filter:drop-shadow(0 10px 60px rgba(245,200,66,.3)) brightness(1.05)}}#poster-container{position:relative;z-index:10;display:flex;align-items:center;justify-content:center;width:100%;height:100%;padding:20px}#poster{position:relative;aspect-ratio:4 / 5;max-height:90vh;max-width:min(90vw,72vh);width:100%;background:var(--poster-bg);background-image:url(/alisakartajelani/background.png);background-size:cover;background-position:center;border-radius:calc(var(--border-radius) * 2);box-shadow:0 4px 20px #00000026,0 8px 40px #0000001a,inset 0 0 100px #ffffff1a;overflow:hidden;transform-style:preserve-3d;transition:transform var(--transition-medium)}#poster:before{content:"";position:absolute;inset:0;background:url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");opacity:.02;pointer-events:none;z-index:1000}#poster:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#e8a87c14,#f5f0e80d,#f5c84214);pointer-events:none;z-index:0}#grid{position:absolute;inset:var(--poster-padding);display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(6,1fr);gap:var(--cell-gap);z-index:10}.cell{position:relative;aspect-ratio:1;background:var(--card-bg);border:1px solid var(--card-border);border-radius:var(--border-radius);box-shadow:0 2px 4px var(--card-shadow),0 1px 2px var(--card-shadow);cursor:pointer;overflow:hidden;transition:transform var(--transition-spring),box-shadow var(--transition-medium);will-change:transform}.cell:hover{transform:translateY(-2px) scale(1.02);box-shadow:0 4px 12px var(--card-shadow),0 2px 4px var(--card-shadow)}.cell:active{transform:scale(.98)}.cell.empty:before{content:"";position:absolute;inset:30%;border:2px dashed var(--card-border);border-radius:var(--border-radius-sm);opacity:.5;transition:opacity var(--transition-fast)}.cell.empty:hover:before{opacity:.8}.cell.empty:after{content:"+";position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:1.5em;font-weight:300;color:var(--card-border);opacity:0;transition:opacity var(--transition-fast)}.cell.empty:hover:after{opacity:1}.cell.dragover{border-color:var(--accent-travel);box-shadow:0 0 0 3px #e8a87c4d,0 4px 12px var(--card-shadow)}.cell.filled{cursor:grab}.cell.filled:active{cursor:grabbing}.cell-image{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;border-radius:inherit;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.cell-actions{position:absolute;top:4px;right:4px;display:flex;gap:4px;opacity:0;transition:opacity var(--transition-fast);z-index:20}.cell.filled:hover .cell-actions{opacity:1}.cell-action-btn{width:28px;height:28px;border:none;border-radius:50%;background:#ffffffe6;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;transition:transform var(--transition-fast),background var(--transition-fast)}.cell-action-btn:hover{transform:scale(1.1);background:#fff}@keyframes cell-spring{0%{transform:scale(.8) translateY(10px);opacity:0}50%{transform:scale(1.05) translateY(-3px)}to{transform:scale(1) translateY(0);opacity:1}}.cell.animating{animation:cell-spring var(--transition-spring) forwards}#toolbar{position:fixed;bottom:20px;left:50%;transform:translate(-50%);display:flex;gap:8px;padding:12px 20px;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:50px;box-shadow:0 4px 20px #00000026;opacity:0;transition:opacity var(--transition-medium);z-index:100}#poster-container:hover #toolbar,#toolbar:hover{opacity:1}.toolbar-btn{width:40px;height:40px;border:none;border-radius:50%;background:transparent;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:18px;transition:transform var(--transition-fast),background var(--transition-fast)}.toolbar-btn:hover{background:#0000000d;transform:scale(1.1)}.toolbar-btn:active{transform:scale(.95)}#progress-indicator{position:fixed;top:20px;right:20px;width:60px;height:60px;z-index:100}.progress-ring{transform:rotate(-90deg)}.progress-ring-bg{fill:none;stroke:#ffffff1a;stroke-width:3}.progress-ring-fill{fill:none;stroke:var(--accent-travel);stroke-width:3;stroke-linecap:round;transition:stroke-dashoffset var(--transition-medium)}.progress-count{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:500;color:#fffc}#settings-panel{position:fixed;top:20px;left:20px;display:flex;flex-direction:column;gap:8px;padding:12px;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:var(--border-radius);z-index:100;opacity:.5;transition:opacity var(--transition-medium)}#settings-panel:hover{opacity:1}#settings-panel button{width:36px;height:36px;border:none;border-radius:50%;background:#ffffffe6;cursor:pointer;font-size:16px;transition:transform var(--transition-fast)}#settings-panel button:hover{transform:scale(1.1)}.modal{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center}.modal.hidden{display:none}.modal-backdrop{position:absolute;inset:0;background:#000000b3;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content{position:relative;background:#fff;border-radius:var(--border-radius);padding:20px;max-width:90vw;max-height:90vh;box-shadow:0 20px 60px #0000004d}#crop-canvas{max-width:400px;max-height:400px;border-radius:var(--border-radius-sm);background:#f0f0f0}.crop-controls{margin-top:16px;display:flex;flex-direction:column;gap:12px}.crop-controls input[type=range]{width:100%;height:4px;-webkit-appearance:none;background:#e0e0e0;border-radius:2px;outline:none}.crop-controls input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;border-radius:50%;background:var(--accent-dev);cursor:pointer}.crop-buttons{display:flex;gap:12px;justify-content:flex-end}.btn-primary,.btn-secondary{padding:10px 24px;border:none;border-radius:50px;font-family:inherit;font-size:14px;font-weight:500;cursor:pointer;transition:transform var(--transition-fast)}.btn-primary{background:var(--accent-dev);color:var(--text-primary)}.btn-secondary{background:#e8e8e8;color:var(--text-secondary)}.btn-primary:hover,.btn-secondary:hover{transform:scale(1.02)}@keyframes warmth-pulse{0%,to{filter:brightness(1) saturate(1)}50%{filter:brightness(1.05) saturate(1.1)}}#poster.surprise-10{animation:warmth-pulse 2s ease-in-out}@keyframes celebration{0%{filter:brightness(1)}25%{filter:brightness(1.1) saturate(1.2)}50%{filter:brightness(1.15) saturate(1.3)}to{filter:brightness(1) saturate(1)}}#poster.surprise-30{animation:celebration 3s ease-in-out}@media(max-width:768px){#bg-images{display:none}#poster-container{padding:10px}#poster{max-height:85vh;max-width:95vw;aspect-ratio:3 / 4}#grid{grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(10,1fr);gap:2%}.cell{min-height:60px}.cell.empty:after{font-size:2em}#toolbar{opacity:1;padding:10px 16px;bottom:10px}.toolbar-btn{width:44px;height:44px;font-size:20px}#settings-panel{top:10px;left:10px;padding:8px;opacity:.8;flex-direction:row;flex-wrap:wrap}#settings-panel button{width:40px;height:40px;font-size:18px}#progress-indicator{width:50px;height:50px;top:10px;right:10px}.cell-actions{opacity:1}.cell-action-btn{width:32px;height:32px;font-size:16px}.modal-content{max-width:95vw;max-height:85vh;padding:16px}#crop-canvas{max-width:100%;max-height:300px}.crop-buttons{flex-direction:column;gap:8px}.btn-primary,.btn-secondary{width:100%;padding:14px;font-size:16px}}@media(max-width:400px){#poster{aspect-ratio:9 / 16}#grid{grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(15,1fr);gap:3%}#settings-panel{display:none}#toolbar{padding:8px 12px;gap:4px}.toolbar-btn{width:40px;height:40px}}@media print{#app{background:transparent}#bg-canvas,#toolbar,#settings-panel,#progress-indicator,.modal{display:none!important}#poster{max-width:100%;max-height:100%;box-shadow:none}}
